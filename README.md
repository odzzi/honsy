# honsy
>基于配置的进销存跟踪管理系统。

## 配置生成业务表与页面
通过解析配置conf/meta.json文件，得到当前应用的业务表信息。

通过honsy_meta表进行业务数据的存储以“表格名”、“类型名”、“数据行ID”、“数据行值”为字段来描述多个表格的数据，表格名区分不同的表格，类型名表示存储的数据的类型，这里统一为“data”。

实际上，honsy_meta具备描述业务表的能力，但是在数据表中进行动态配置比较麻烦，所以使用meta.json来描述业务表，而只用honsy_meta来存储数据。

## 页面模板
honsy_meta不仅描述业务数据表，而且提供了显示基本页面的必要信息。所有的业务表的list/add/edit/detail/show_qrcode的表示都是一套模板，区别仅在于表格名、描述信息和字段。

TODO: 目前未针对字段的类型进行区别显示，但是要实现这个功能非常容易。以及可以实现针对页面字段的事件监听，通过脚本来达到业务数据之间的联动。

## 应用的配置
为了快速提供对其他应用的能力支持，通过conf/app.json提供针对app特征的定制，包括app名、app的url以及app所在服务的域名。通过这些配置，可以定制不同的app特征。

## 扫描二维码功能
通过使用zbar的二进制工具，后台为每一次的扫码请求执行解码操作。这个方式存在一些问题，会短时间内不断调用命令行执行zbarimg命令，对于一个并发度比较低的系统来说可以接受。

TODO: 通过API调用扫码功能而不是通过命令行以进程的方式执行扫码，避免资源消耗过快。